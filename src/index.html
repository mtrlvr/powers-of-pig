<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Powers of Pig</title>
    <link rel="stylesheet" href="styles.css">
    <script defer data-domain="powersofpig.com" src="https://va.vercel-scripts.com/v1/script.js"></script>
</head>
<body>
    <!-- PASSWORD GATE SCREEN -->
    <div class="screen gate-screen" id="gate-screen">
        <div class="gate-pig">ğŸ·</div>
        <h1 class="gate-title">Enter the Sty</h1>
        <form class="gate-form" id="gate-form">
            <input
                type="password"
                class="gate-input"
                id="gate-password"
                placeholder="Password"
                autocomplete="off"
                autocapitalize="off"
                autocorrect="off"
                spellcheck="false"
            >
            <button type="submit" class="btn btn-primary gate-btn">Enter</button>
        </form>
        <p class="gate-error" id="gate-error"></p>
    </div>

    <!-- HOME SCREEN -->
    <div class="screen home-screen" id="home-screen">
        <h1 class="home-title">Powers of Pig</h1>
        <div class="lives-display" id="home-lives">
            <span class="life-icon">ğŸ·</span>
            <span class="life-icon">ğŸ·</span>
            <span class="life-icon">ğŸ·</span>
        </div>
        <div class="home-pig">ğŸ·</div>
        <button class="btn btn-primary" id="play-button">Play</button>
        <button class="btn btn-secondary" id="collection-button">Collection</button>
        <div class="high-score-display">
            <span>High Score:</span>
            <span id="high-score">0</span>
        </div>
    </div>

    <!-- GAME SCREEN -->
    <div class="screen game-screen" id="game-screen">
        <header class="game-header">
            <button class="icon-btn" id="home-button" title="Home">ğŸ </button>
            <div class="score-container">
                <div class="score-label">Score</div>
                <div class="score-value" id="score">0</div>
            </div>
            <div class="header-buttons">
                <button class="icon-btn" id="undo-button" title="Undo">â†©ï¸</button>
                <button class="icon-btn" id="sound-button" title="Sound">ğŸ”Š</button>
                <button class="icon-btn" id="pause-button" title="Pause">â¸ï¸</button>
            </div>
        </header>

        <div class="board-container">
            <div class="grid-background" id="grid-background"></div>
            <div class="tile-container" id="tile-container"></div>
        </div>

        <p class="instructions">Swipe or use arrow keys to move tiles</p>
    </div>

    <!-- PAUSE MENU (overlay) -->
    <div class="overlay" id="pause-overlay">
        <div class="modal">
            <h2>Paused</h2>
            <button class="btn btn-primary" id="resume-button">Resume</button>
            <button class="btn btn-secondary" id="restart-button">Restart</button>
            <button class="btn btn-secondary" id="pause-home-button">Home</button>
        </div>
    </div>

    <!-- RESTART CONFIRMATION MODAL -->
    <div class="overlay" id="restart-overlay">
        <div class="modal">
            <h2>Start Over?</h2>
            <p class="modal-text">This will cost 1 life.</p>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="restart-cancel">Cancel</button>
                <button class="btn btn-danger" id="restart-confirm">Confirm</button>
            </div>
        </div>
    </div>

    <!-- PURCHASE CONFIRMATION MODAL -->
    <div class="overlay" id="purchase-overlay">
        <div class="modal">
            <h2>Purchase Lives</h2>
            <p class="modal-text" id="purchase-message">You would purchase 1 life here!</p>
            <p class="modal-subtext">[Placeholder - no real payment]</p>
            <button class="btn btn-primary" id="purchase-ok">OK</button>
        </div>
    </div>

    <!-- GAME OVER SCREEN -->
    <div class="screen gameover-screen" id="gameover-screen">
        <h2>Game Over!</h2>
        <div class="final-score">
            <span>Score:</span>
            <span id="final-score">0</span>
        </div>
        <div class="highest-pig">
            <span>Highest pig:</span>
            <div class="pig-badge" id="highest-pig-badge"></div>
        </div>
        <div class="new-pig-unlocked" id="new-pig-message" style="display: none;">
            <p>New pig discovered!</p>
            <div class="pig-badge" id="new-pig-badge"></div>
        </div>
        <button class="btn btn-primary" id="play-again-button">Play Again</button>
        <button class="btn btn-secondary" id="gameover-home-button">Home</button>
    </div>

    <!-- WIN SCREEN -->
    <div class="screen win-screen" id="win-screen">
        <h2>ğŸ‰ Congratulations! ğŸ‰</h2>
        <p class="win-message">You've created</p>
        <div class="lion-pig-badge">THE LION PIG</div>
        <p class="win-submessage">ğŸ·ğŸ¦</p>
        <button class="btn btn-primary" id="continue-button">Continue Playing</button>
        <button class="btn btn-secondary" id="new-game-button">New Game</button>
    </div>

    <!-- COLLECTION SCREEN (Badge Gallery) -->
    <div class="screen collection-screen" id="collection-screen">
        <header class="collection-header">
            <button class="icon-btn" id="collection-back-button">â†</button>
            <h2>Collection</h2>
            <div class="collection-progress" id="collection-progress">0/17</div>
        </header>
        <div class="badge-grid" id="badge-grid"></div>
    </div>

    <!-- OUT OF LIVES SCREEN -->
    <div class="screen nolives-screen" id="nolives-screen">
        <h2>Out of Oinks!</h2>
        <div class="nolives-pig">ğŸ˜¢ğŸ·</div>
        <div class="next-life-timer">
            <span>Next life in:</span>
            <span id="next-life-countdown">4:00:00</span>
        </div>
        <div class="purchase-options">
            <button class="btn btn-purchase" id="buy-one-life">
                <span class="purchase-label">Get 1 Life</span>
                <span class="purchase-price">Â£0.50</span>
            </button>
            <button class="btn btn-purchase" id="buy-three-lives" style="display: none;">
                <span class="purchase-label">Get 3 Lives</span>
                <span class="purchase-price">Â£1.00</span>
            </button>
        </div>
        <button class="btn btn-secondary" id="nolives-home-button">Home</button>
    </div>

    <script src="game.js"></script>
</body>
</html>
